# 神奇的类

## Property

例子来自《Learning Python》。

```python
class Person:
    def __init__(self, name):
        # 通常用带下划线的名字作为实际值
        self._name = name

    @property
    def name(self):  # name = property(name)
        """name property docs"""
        print('fetch...')
        return self._name

    # setter 和 deleter 的名字也都是 name
    @name.setter
    def name(self, value):  # name = name.setter(name)
        print('change...')
        self._name = value

    @name.deleter
    def name(self):  # name = name.deleter(name)
        print('remove...')
        del self._name
```

## Data classes

我们经常会写：

```python
class Book:
    def __init__(self, name: str, author: str):
        self.name = name
        self.author = author
```

用 `dataclasses` 的话，只需要：

```python
from dataclasses import dataclass

@dataclass
class Book:
    name: str
    author: str
```

`@dataclass` 会帮我们自动加上 `__init__()`、`__repr__()`、`__eq__()` 等。

用处一是简化类的代码，二是可以替代 `namedtuple`、`typing.NamedTuple`、[attrs](https://www.attrs.org/en/stable/) 等。有一点像 Typescript 的 `interface`。